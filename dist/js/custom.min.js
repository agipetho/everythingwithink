$(function() {
    "use strict";

    $(".preloader").fadeOut();
    // ============================================================== 
    // Theme options
    // ==============================================================     
    // ============================================================== 
    // sidebar-hover
    // ==============================================================

    $(".left-sidebar").hover(
        function() {
            $(".navbar-header").addClass("expand-logo");
        },
        function() {
            $(".navbar-header").removeClass("expand-logo");
        }
    );
    // this is for close icon when navigation open in mobile view
    $(".nav-toggler").on('click', function() {
        $("#main-wrapper").toggleClass("show-sidebar");
        $(".nav-toggler i").toggleClass("ti-menu");
    });
    $(".nav-lock").on('click', function() {
        $("body").toggleClass("lock-nav");
        $(".nav-lock i").toggleClass("mdi-toggle-switch-off");
        $("body, .page-wrapper").trigger("resize");
    });
    $(".search-box a, .search-box .app-search .srh-btn").on('click', function() {
        $(".app-search").toggle(200);
        $(".app-search input").focus();
    });

    // ============================================================== 
    // Right sidebar options
    // ==============================================================
    $(function() {
        $(".service-panel-toggle").on('click', function() {
            $(".customizer").toggleClass('show-service-panel');

        });
        $('.page-wrapper').on('click', function() {
            $(".customizer").removeClass('show-service-panel');
        });
    });
    // ============================================================== 
    // This is for the floating labels
    // ============================================================== 
    $('.floating-labels .form-control').on('focus blur', function(e) {
        $(this).parents('.form-group').toggleClass('focused', (e.type === 'focus' || this.value.length > 0));
    }).trigger('blur');

    // ============================================================== 
    //tooltip
    // ============================================================== 
    $(function() {
        $('[data-toggle="tooltip"]').tooltip()
    })
    // ============================================================== 
    //Popover
    // ============================================================== 
    $(function() {
        $('[data-toggle="popover"]').popover()
    })

    // ============================================================== 
    // Perfact scrollbar
    // ============================================================== 
    $('.message-center, .customizer-body, .scrollable').perfectScrollbar({
        wheelPropagation: !0
    });

    /*var ps = new PerfectScrollbar('.message-body');
    var ps = new PerfectScrollbar('.notifications');
    var ps = new PerfectScrollbar('.scroll-sidebar');
    var ps = new PerfectScrollbar('.customizer-body');*/

    // ============================================================== 
    // Resize all elements
    // ============================================================== 
    $("body, .page-wrapper").trigger("resize");
    $(".page-wrapper").show();
    // ============================================================== 
    // To do list
    // ============================================================== 
    $(".list-task li label").click(function() {
        $(this).toggleClass("task-done");
    });

    //****************************
    /* This is for the mini-sidebar if width is less then 1170*/
    //**************************** 
    var setsidebartype = function() {
        var width = (window.innerWidth > 0) ? window.innerWidth : this.screen.width;
        if (width < 1170) {
            $("#main-wrapper").attr("data-sidebartype", "mini-sidebar");
        } else {
            $("#main-wrapper").attr("data-sidebartype", "full");
        }
    };
    $(window).ready(setsidebartype);
    $(window).on("resize", setsidebartype);
    //****************************
    /* This is for sidebartoggler*/
    //****************************
    $('.sidebartoggler').on("click", function() {
        $("#main-wrapper").toggleClass("mini-sidebar");
        if ($("#main-wrapper").hasClass("mini-sidebar")) {
            $(".sidebartoggler").prop("checked", !0);
            $("#main-wrapper").attr("data-sidebartype", "mini-sidebar");
        } else {
            $(".sidebartoggler").prop("checked", !1);
            $("#main-wrapper").attr("data-sidebartype", "full");
        }
    });
});

// -----------------------------------------------------------------------------
// companies dropdown top nav

// Iterate over each select element
// $('select').each(function () {
//
//     // Cache the number of options
//     var $this = $(this),
//         numberOfOptions = $(this).children('option').length;
//
//     // Hides the select element
//     $this.addClass('s-hidden');
//
//     // Wrap the select element in a div
//     $this.wrap('<div class="select"></div>');
//
//     // Insert a styled div to sit over the top of the hidden select element
//     $this.after('<div class="styledSelect"></div>');
//
//     // Cache the styled div
//     var $styledSelect = $this.next('div.styledSelect');
//
//     // Show the first select option in the styled div
//     $styledSelect.text($this.children('option').eq(0).text());
//
//     // Insert an unordered list after the styled div and also cache the list
//     var $list = $('<ul />', {
//         'class': 'options'
//     }).insertAfter($styledSelect);
//
//     // Insert a list item into the unordered list for each select option
//     for (var i = 0; i < numberOfOptions; i++) {
//         $('<li />', {
//             text: $this.children('option').eq(i).text(),
//             rel: $this.children('option').eq(i).val()
//         }).appendTo($list);
//     }
//
//     // Cache the list items
//     var $listItems = $list.children('li');
//
//     // Show the unordered list when the styled div is clicked (also hides it if the div is clicked again)
//     $styledSelect.click(function (e) {
//         e.stopPropagation();
//         $('div.styledSelect.active').each(function () {
//             $(this).removeClass('active').next('ul.options').hide();
//         });
//         $(this).toggleClass('active').next('ul.options').toggle();
//     });
//
//     // Hides the unordered list when a list item is clicked and updates the styled div to show the selected list item
//     // Updates the select element to have the value of the equivalent option
//     $listItems.click(function (e) {
//         e.stopPropagation();
//         $styledSelect.text($(this).text()).removeClass('active');
//         $this.val($(this).attr('rel'));
//         $list.hide();
//         /* alert($this.val()); Uncomment this for demonstration! */
//     });
//
//     // Hides the unordered list when clicking outside of it
//     $(document).click(function () {
//         $styledSelect.removeClass('active');
//         $list.hide();
//     });
//
// });

// Clickable li
$(function() {
    $('.cardbox-list, .guide-list li').css('cursor', 'pointer')

        .click(function() {
            window.location = $('a', this).attr('href');
            return false;
        });
});

$(".card-list-line").click(function() {
    window.location = $(this).find("a").attr("href");
    return false;
});


// ------------------------product----------------------

$(document).ready(function() {
    $('#list').click(function(event){event.preventDefault();$('#products .item').addClass('list-group-item');});
    $('#grid').click(function(event){event.preventDefault();$('#products .item').removeClass('list-group-item');$('#products .item').addClass('grid-group-item');});
    $('#list').click(function(event){event.preventDefault();$('.romiwills').removeClass('checkbox-custom');$('.romiwills').addClass('custom-list');});
    $('#grid').click(function(event){event.preventDefault();$('.romiwills').removeClass('custom-list');$('.romiwills').addClass('checkbox-custom');});

});


// -------------------------Checkbox selectall all-----------------
$(function(){

    // add multiple select / deselect functionality
    $("#selectall").click(function () {
        $('.case').attr('checked', this.checked);
    });

    // if all checkbox are selected, check the selectall checkbox
    // and viceversa
    $(".case").click(function(){

        if($(".case").length == $(".case:checked").length) {
            $("#selectall").attr("checked", "checked");
        } else {
            $("#selectall").removeAttr("checked");
        }

    });
});
// --------------------Checkbox selectall box-------------------

// $('.selectall').click(function() {
//     if ($(this).is(':checked')) {
//         $('div input').attr('checked', true);
//     } else {
//         $('div input').attr('checked', false);
//     }
// });

// radio and checkbox beauty

// $(document).ready(function(){
//     $(":checkbox").labelauty();
//     // $(":radio").labelauty();
// });


// settings image upload

$(".imgAdd").click(function(){
    $(this).closest(".row").find('.imgAdd').before('<div class="col-sm-2 imgUp"><div class="imagePreview"></div><label class="btn btn-primary">Upload<input type="file" class="uploadFile img" value="Upload Photo" style="width:0px;height:0px;overflow:hidden;"></label><i class="fa fa-times del"></i></div>');
});
$(document).on("click", "i.del" , function() {
    $(this).parent().remove();
});
$(function() {
    $(document).on("change",".uploadFile", function()
    {
        var uploadFile = $(this);
        var files = !!this.files ? this.files : [];
        if (!files.length || !window.FileReader) return; // no file selected, or no FileReader support

        if (/^image/.test( files[0].type)){ // only image file
            var reader = new FileReader(); // instance of the FileReader
            reader.readAsDataURL(files[0]); // read the local file

            reader.onloadend = function(){ // set image data as background of div
                //alert(uploadFile.closest(".upimage").find('.imagePreview').length);
                uploadFile.closest(".imgUp").find('.imagePreview').css("background-image", "url("+this.result+")");
            }
        }

    });
});


// copy text from input field

// var clipboard = new ClipboardJS('.copyip-btn');
//
// clipboard.on('success', function(e) {
//     console.log(e);
// });
//
// clipboard.on('error', function(e) {
//     console.log(e);
// });

function copyAPIcontent(elementID) {
    var copyText = document.getElementById(elementID);
    copyText.select();
    document.execCommand("copy");
    // alert("Copied the text: " + copyText.value);
}

// easy ink step-1 image ipload

function showMyImage(fileInput) {
    var files = fileInput.files;
    for (var i = 0; i < files.length; i++) {
        var file = files[i];
        var imageType = /image.*/;
        if (!file.type.match(imageType)) {
            continue;
        }
        var img=document.getElementById("thumbnil");
        img.file = file;
        var reader = new FileReader();
        reader.onload = (function(aImg) {
            return function(e) {
                aImg.src = e.target.result;
            };
        })(img);
        reader.readAsDataURL(file);
    }
}
